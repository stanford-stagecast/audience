{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117951942-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-117951942-2');
    gtag('config', 'AW-771906819');
  </script>
  <link rel="stylesheet" href="{% static 'puffer/dist/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'puffer/css/common.css' %}">
  <link rel="stylesheet" href="{% static 'puffer/dist/css/bootstrap-datepicker.standalone.min.css' %}">
  <title>Puffer</title>
  <link rel="icon" href="{% static 'puffer/dist/images/favicon.ico' %}">
</head>

<body>
  <!-- Navigation -->
  {% include "puffer/navigation.html" %}

  <!-- Main Section -->
  <div class="container py-4">
    <div class="text-center pb-1">
      <h4>Experiment Results</h4>
    </div>
    <br>

    <div class="row">
      <div class="col-auto text-center" style="width: 250px">
        <div id="calendar"></div>
      </div>

      <div class="col pt-2">
        <ul>
          <li>Selected date (UTC): <span id="selected-date"></span>
              (<a id="permalink">share a permalink</a>)</li>
          <li>Full results: <a id="bucket"></a></li>
          <li>Retrained model: <a id="model"></a></li>
          <li><span class="monospace">video_sent</span> measurement:
              <a id="video_sent"></a></li>
          <li><span class="monospace">video_acked</span> measurement:
              <a id="video_acked"></a></li>
          <li><span class="monospace">client_buffer</span> measurement:
              <a id="client_buffer"></a></li>
          <li><span class="monospace">video_size</span> measurement:
              <a id="video_size"></a></li>
          <li><span class="monospace">ssim</span> measurement:
              <a id="ssim"></a></li>
          <li>Current experiment, past day, all streams:<br>
              <img class="img-fluid perf-img" id="day_all_plot"></li>
          <li>Current experiment, past day, slow streams only:<br>
              <img class="img-fluid perf-img" id="day_slow_plot"></li>
          <li>Current experiment, past week, all streams:<br>
              <img class="img-fluid perf-img" id="week_all_plot"></li>
          <li>Current experiment, past week, slow streams only:<br>
              <img class="img-fluid perf-img" id="week_slow_plot"></li>
          <li>Current experiment, past two weeks, all streams:<br>
              <img class="img-fluid perf-img" id="two_weeks_all_plot"></li>
          <li>Current experiment, past two weeks, slow streams only:<br>
              <img class="img-fluid perf-img" id="two_weeks_slow_plot"></li>
          <li>Current experiment, past month, all streams:<br>
              <img class="img-fluid perf-img" id="month_all_plot"></li>
          <li>Current experiment, past month, slow streams only:<br>
              <img class="img-fluid perf-img" id="month_slow_plot"></li>
          <li>Current experiment, full contiguous duration, all streams:<br>
              <img class="img-fluid perf-img" id="duration_all_plot"></li>
          <li>Current experiment, full contiguous duration, slow streams only:<br>
              <img class="img-fluid perf-img" id="duration_slow_plot"></li>
        </ul>
      </div>
    </div>
  </div>

  <script src="{% static 'puffer/dist/js/jquery-3.3.1.slim.min.js' %}"></script>
  <script src="{% static 'puffer/dist/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'puffer/dist/js/bootstrap-datepicker.min.js' %}"></script>
  <script>
    var input_date = "{{ input_date }}";
  </script>
  <script src="{% static 'puffer/js/results.js' %}"></script>
</body>

</html>
